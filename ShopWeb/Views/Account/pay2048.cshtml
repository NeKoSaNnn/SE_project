@using ShopWeb.Models
@model AccountModels
@{
    ViewBag.Title = "支付界面";
}

<div id="init_page"
     class="msg_box"
     style=" width: 100%;
        height: 100%;
        position: fixed;
        z-index: 95;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        margin: auto;
        text-align: center;
        font-size: 18px;
        padding-top:70px;
    ">
    <h0></h0>
</div>

<div id="alert_message_success"
     class="msg_box"
     style=" width: 300px;
        height: 110px;
        position: fixed;
        z-index: 90;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        margin: auto;
        text-align: center;
        font-size: 20px;
        padding-top:90px;

    ">
    <h0>购买成功，即将自动跳转</h0>
</div>

<div id="alert_message_failure"
     class="msg_box"
     style=" width: 300px;
        height: 110px;
        position: fixed;
        z-index: 90;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        margin: auto;
        text-align: center;
        font-size: 20px;
        padding-top:90px;

    ">
    <h0>购买失败，即将返回购物车</h0>
</div>

<div class="my2048">
    <header>
        <div style="height:100px;">
            @using (Html.BeginForm("order_success", "Account", FormMethod.Post, new { id = "score_form" }))
            {
                <div>
                    <span class="span_text">支付所需积分:</span><span class="scoreNum">@Model.all_price</span>
                </div>
                <div class="">
                    <span class="span_text">当前积分:</span><span id="score" class="scoreNum">0</span>
                </div>
                for (var i = 0; i < Model.accountModeList.Count; ++i)
                {
                    @Html.TextBoxFor(now => now.accountModeList[i].goods_id, new { @type = "hidden", Value = Model.accountModeList[i].goods_id })
                    @Html.TextBoxFor(now => now.accountModeList[i].goods_num, new { @type = "hidden", Value = Model.accountModeList[i].goods_num })
                }
                @Html.TextBoxFor(now => now.all_price, new { @type = "hidden", Value = Model.all_price })
                @Html.TextBoxFor(now => now.score, new { @type = "hidden", Value = 0, id = "score_num" })
                @Html.TextBoxFor(now=>now.address_text,new {@type="hidden",Value=Model.address_text })
                <button type="submit" id="score_submit" style="visibility:hidden;" value="@Model.all_price"></button>
            }
        </div>
        <p class="tips" style="margin:0 0 10px 0">
            tips:使用↑←↓→或WASD控制,努力争取积分来支付吧！
        </p>
    </header>

    <div id="grid-container">
        <div class="grid-cell" id="grid-cell-0-0"></div>
        <div class="grid-cell" id="grid-cell-0-1"></div>
        <div class="grid-cell" id="grid-cell-0-2"></div>
        <div class="grid-cell" id="grid-cell-0-3"></div>

        <div class="grid-cell" id="grid-cell-1-0"></div>
        <div class="grid-cell" id="grid-cell-1-1"></div>
        <div class="grid-cell" id="grid-cell-1-2"></div>
        <div class="grid-cell" id="grid-cell-1-3"></div>

        <div class="grid-cell" id="grid-cell-2-0"></div>
        <div class="grid-cell" id="grid-cell-2-1"></div>
        <div class="grid-cell" id="grid-cell-2-2"></div>
        <div class="grid-cell" id="grid-cell-2-3"></div>

        <div class="grid-cell" id="grid-cell-3-0"></div>
        <div class="grid-cell" id="grid-cell-3-1"></div>
        <div class="grid-cell" id="grid-cell-3-2"></div>
        <div class="grid-cell" id="grid-cell-3-3"></div>
    </div>
</div>

